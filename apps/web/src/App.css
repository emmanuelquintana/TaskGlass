:root {
  /* LIGHT Mode Defaults (Glass) */
  --lg-a: 0.40;
  /* Más opaco en light para que se note el material */
  --lg-a-hover: 0.50;
  --lg-blur: 16px;

  --lg-border-w: 1px;
  --lg-border-a: 0.20;

  --lg-radius: 22px;

  /* Sombra Light: Suave y difusa */
  --lg-shadow:
    0 20px 60px rgba(0, 0, 0, 0.08),
    inset 0 0 0 1px rgba(255, 255, 255, 0.6),
    /* Borde blanco brillante */
    inset 0 0 20px rgba(255, 255, 255, 0.5),
    /* Volumen */
    inset 0 -1px 0 rgba(0, 0, 0, 0.05);

  --lg-bg-tint: rgba(255, 255, 255, 0.10);
  /* Tinte bajo para ver el fondo */
  /* Leche */

  /* Caustics Light: Sombras oscuras */
  --lg-caustic-blend: multiply;
  --lg-caustic-opacity: 0.6;
  --lg-caustic-grad:
    radial-gradient(circle at 50% 0%, rgba(0, 0, 0, 0.1), transparent 60%),
    radial-gradient(circle at 0% 100%, rgba(0, 0, 0, 0.05), transparent 50%);
}

.dark {
  /* DARK Mode Overrides */
  --lg-a: 0.12;
  --lg-a-hover: 0.16;
  --lg-blur: 12px;

  --lg-border-a: 0.40;

  --lg-shadow:
    0 24px 70px rgba(0, 0, 0, 0.40),
    inset 0 0 0 1px rgba(255, 255, 255, 0.12),
    inset 0 0 24px rgba(255, 255, 255, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.45),
    inset 0 -1px 0 rgba(0, 0, 0, 0.25);

  --lg-bg-tint: rgba(255, 255, 255, 0.03);

  /* Caustics Dark: Luces brillantes */
  --lg-caustic-blend: overlay;
  --lg-caustic-opacity: 0.8;
  --lg-caustic-grad:
    radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.4), transparent 60%),
    radial-gradient(circle at 0% 100%, rgba(255, 255, 255, 0.2), transparent 50%),
    linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
}

/* ==========================================================
   TRUE LIQUID GLASS
   ========================================================== */

.tg-liquid,
.liquid-glass,
.liquid-surface {
  position: relative;
  isolation: isolate;
  overflow: hidden;

  border-radius: var(--lg-radius);
  border: var(--lg-border-w) solid rgba(255, 255, 255, var(--lg-border-a));
  box-shadow: var(--lg-shadow);

  background: transparent;
  transform: translateZ(0);
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
}

.tg-liquid::before,
.liquid-glass::before,
.liquid-surface::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;

  background: var(--lg-bg-tint);

  backdrop-filter: blur(var(--lg-blur)) saturate(180%) contrast(110%);
  -webkit-backdrop-filter: blur(var(--lg-blur)) saturate(180%) contrast(110%);

  z-index: -2;
  transition: background 0.3s ease;
}

.tg-liquid::after,
.liquid-glass::after,
.liquid-surface::after {
  content: "";
  position: absolute;
  inset: -10%;
  border-radius: inherit;
  pointer-events: none;
  z-index: -1;

  background: var(--lg-caustic-grad);

  mix-blend-mode: var(--lg-caustic-blend);
  opacity: var(--lg-caustic-opacity);

  filter: url(#tg-liquid-glass-distort);
  transform: translateZ(0);
  transition: opacity 0.3s ease;
}

/* Grain SOLO cuando agregas .tg-grain */
.tg-grain::after {
  background:
    radial-gradient(700px circle at var(--mx, 35%) var(--my, 20%),
      rgba(255, 255, 255, 0.22),
      transparent 55%),
    radial-gradient(900px 520px at 20% 0%,
      rgba(255, 255, 255, 0.10),
      transparent 60%),
    linear-gradient(135deg,
      rgba(255, 255, 255, var(--lg-overlay-a)),
      transparent 45%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
  background-size: auto, auto, auto, 220px 220px;
  opacity: 0.10;
  /* grain sutil */
  mix-blend-mode: overlay;
}

/* Que el contenido quede arriba del material */
.tg-liquid>*,
.liquid-glass>*,
.liquid-surface>* {
  position: relative;
  z-index: 1;
}

/* Interacción tipo Apple */
.tg-interactive,
.liquid-glass {
  transition:
    transform var(--lg-dur) var(--lg-ease),
    box-shadow var(--lg-dur) var(--lg-ease),
    border-color var(--lg-dur) var(--lg-ease);
  cursor: pointer;
}

.tg-interactive:hover,
.liquid-glass:hover {
  transform: translateY(-4px);
  border-color: rgba(255, 255, 255, 0.28);
}

.tg-interactive:hover::before,
.liquid-glass:hover::before {
  background: rgba(var(--lg-bg-rgb), var(--lg-a-hover));
}

/* Surface (sin hover) */
.liquid-surface {
  cursor: default;
}

/* Fallback si no hay backdrop-filter */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {

  .tg-liquid::before,
  .liquid-glass::before,
  .liquid-surface::before {
    background: rgba(255, 255, 255, 0.10);
    filter: none;
  }
}