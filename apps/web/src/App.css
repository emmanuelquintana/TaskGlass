:root {
  /* ...lo tuyo... */

  /* Apple-like (notorio y fino) */
  --lg-a: 0.12;
  --lg-a-hover: 0.16;
  --lg-blur: 30px;
  /* Blur más fuerte para mezclar la distorsión */

  --lg-border-w: 1px;
  --lg-border-a: 0.35;

  --lg-radius: 22px;

  /* sombra con “rim” interno GRUESO */
  --lg-shadow:
    0 20px 60px rgba(0, 0, 0, 0.35),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1),
    inset 0 0 20px rgba(255, 255, 255, 0.05),
    /* Volumen interior */
    inset 0 1px 0 rgba(255, 255, 255, 0.35),
    /* Borde superior nítido */
    inset 0 -1px 0 rgba(0, 0, 0, 0.20);
}

/* ==========================================================
   TRUE LIQUID GLASS (Apple-feel)
   - Refracción con SVG filter (sin afectar el texto)
   - Blur + saturate/contrast
   - Shine + grain
   ========================================================== */

/* Alias para que tu UI actual sí aplique el material */
.tg-liquid,
.liquid-glass,
.liquid-surface {
  position: relative;
  isolation: isolate;
  overflow: hidden;

  border-radius: var(--lg-radius);
  border: var(--lg-border-w) solid rgba(255, 255, 255, var(--lg-border-a));
  box-shadow: var(--lg-shadow);

  /* Importante: el fondo real vive en ::before */
  background: transparent;

  transform: translateZ(0);
}

/* La "lámina" de vidrio: Blur limpio + Tinte */
.tg-liquid::before,
.liquid-glass::before,
.liquid-surface::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;

  /* Fondo base muy sutil */
  background: rgba(255, 255, 255, 0.03);

  /* Solo blur y corrección de color, SIN distorsión aquí para mantener bordes limpios */
  backdrop-filter: blur(var(--lg-blur)) saturate(180%) contrast(110%);
  -webkit-backdrop-filter: blur(var(--lg-blur)) saturate(180%) contrast(110%);

  z-index: -2;
  transition: opacity var(--lg-dur) ease;
}

/* La capa de "Refracción Simulada" (Caustics) */
.tg-liquid::after,
.liquid-glass::after,
.liquid-surface::after {
  content: "";
  position: absolute;
  /* Un poco más grande para evitar bordes cortados al distorsionar */
  inset: -10%;
  border-radius: inherit;
  pointer-events: none;
  z-index: -1;

  /* Textura de luz que será distorsionada */
  background:
    radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.4), transparent 60%),
    radial-gradient(circle at 0% 100%, rgba(255, 255, 255, 0.2), transparent 50%),
    linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);

  /* CLAVE: Overlay hace que parezca que el fondo de atrás está cambiando de brillo */
  mix-blend-mode: overlay;
  opacity: 0.8;

  /* Aquí aplicamos la distorsión SVG solo a esta capa de luz */
  filter: url(#tg-liquid-glass-distort);
  transform: translateZ(0);
}

/* Grain SOLO cuando agregas .tg-grain */
.tg-grain::after {
  background:
    radial-gradient(700px circle at var(--mx, 35%) var(--my, 20%),
      rgba(255, 255, 255, 0.22),
      transparent 55%),
    radial-gradient(900px 520px at 20% 0%,
      rgba(255, 255, 255, 0.10),
      transparent 60%),
    linear-gradient(135deg,
      rgba(255, 255, 255, var(--lg-overlay-a)),
      transparent 45%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
  background-size: auto, auto, auto, 220px 220px;
  opacity: 0.10;
  /* grain sutil */
  mix-blend-mode: overlay;
}

/* Que el contenido quede arriba del material */
.tg-liquid>*,
.liquid-glass>*,
.liquid-surface>* {
  position: relative;
  z-index: 1;
}

/* Interacción tipo Apple */
.tg-interactive,
.liquid-glass {
  transition:
    transform var(--lg-dur) var(--lg-ease),
    box-shadow var(--lg-dur) var(--lg-ease),
    border-color var(--lg-dur) var(--lg-ease);
  cursor: pointer;
}

.tg-interactive:hover,
.liquid-glass:hover {
  transform: translateY(-4px);
  border-color: rgba(255, 255, 255, 0.28);
}

.tg-interactive:hover::before,
.liquid-glass:hover::before {
  background: rgba(var(--lg-bg-rgb), var(--lg-a-hover));
}

/* Surface (sin hover) */
.liquid-surface {
  cursor: default;
}

/* Fallback si no hay backdrop-filter */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {

  .tg-liquid::before,
  .liquid-glass::before,
  .liquid-surface::before {
    background: rgba(255, 255, 255, 0.10);
    filter: none;
  }
}